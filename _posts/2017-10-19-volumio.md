---
layout: post
title:  "只想安安静静地听音乐--基于volumio的树莓派音频播放器"
date: 2017-10-19 20:25:06 -0700
---
&emsp;&emsp;一直想用树莓派做一个音频播放器，曾经试过kodi视频播放器去播放音频文件，感觉启动和使用比较慢，而且我只是响安安静静的听音乐而已，不想勉强树莓派播放高清视频。最近又在网上搜索基于树莓派的音频播放软件，发现原来有基于树莓派专门播放音频的发行版--volumio，真是"众里寻他千百度蓦然回首那人却在灯火阑珊"，赶紧下载来试试。
![](/images/2017-10-19-1-1.png)  
1. 介绍  
　　（载自官网）volumio是一款傻瓜式的音频播放器，只需要将它连接到你的家庭音响系统或者你的DAC，然后连接到你的家庭网络就可以通过pc，mac，安卓或者ios控制它了。volumio可以从usb、网络存储、流媒体服务器播放音乐，也可以作为DLNA或者Airplay的播放器。
　　DLNA是什么？每一个音响爱好者大概都想过如何方便的实现音视频随时随地的切换，而不需要频繁的插拔一堆线缆，甚至想是否家里要买一个矩阵切换器来完成这个功能。有了DLNA，借助高速网络这一想法可以不用花一分钱实现了。DLNA它是消费电器，移动设备在内的无线网络和有线网络的互联互通协议，可以使数字媒体和内容服务在家庭网络间共享和控制，DLNA的口号是Enjoy your music, photos and videos, anywhereanytime，真的太棒了。
2. 下载  
　　https://volumio.org/get-started/  
　　下载是一个zip文件，目前版本2.246，需要用解压软件解压img文件。
3. 写入tf卡  
　　下载win32diskimager：https://sourceforge.net/projects/win32diskimager/
　　安装好win32diskimager（Windows环境）之后，将tf卡插入读卡器，选择上面解压的img文件写入tf卡。
4. 启动  
　　将tf卡插入树莓派，上电启动。耐心等待几分钟之后使用电脑搜索热点，会发现有一个volumio的热点，连接此ap，密码是volumio2。连接成功之后在电脑浏览器输入http://volumio.local/，显示volumio的web界面则大功告成。
![](/images/2017-10-19-1-2.png)  
5. 设置播放器  
　　可以有两种连接方式：有线连接、wifi连接。如果是有线连接直接用网线连接到路由器上就可以了；如果是wifi连接，在刚才的web界面的设置-网络里选择需要连接的AP和密码，设置后会重启，正常情况会连接你设置的ap，如果连接不成功还是会启用热点模式（但不知为何我总是无法成功连接）。  
　　另外连接成功之后手机或者其他设备需要知道volumio的ip地址，当然可以登录到路由器上去查，不过对我这种万年不登录路由器的人，密码早忘了。可以在pc上安装一款叫advanced ip scanner的小软件扫描一下你的网络，就能知道volumio的ip了。  
　　volumio所有的设置都在设置界面里，你可以选择界面语言、输出的音频设备、DSD直接输出或者over   PCM（别问我DSD是什么）、插件等等。音频设备支持usb2.0声卡和I2SDAC（须选择支持的模块，大部分淘宝上有卖）。  
　　volumio可以播放NAS等局域网的音乐。在"我的音乐"中选择挂载设备，扫描音乐即可。最后就可以在音乐库中根据目录或歌手来管理和播放自己的音乐了。在正常连接的情况下，Volumio支持DLNA以及AirPlay无线音乐传输，目前很多手机app都支持DLNA，比如QQ音乐等，过DLNA投放到解码器或声卡上播放比手机内置的蓝牙功能有显著的音质提升。
![](/images/2017-10-19-1-3.png)  
6. 手机app控制  
　　可以在安卓软件市场搜索volumio找到他的一款控制app（Sound@homefor volumio），也不知道是否是官方app，没怎么用感觉效果一般般。后来网上说有一款BubblePnP的app，也支持DLNA，是某神级人物大作。赶紧下来一试，顺便验证一下volumio的DLNA支持。安装之后一开始怎么也找不到我的volumio播放器。后来终于找到原因，原来我家里有两个AP，volumio和app分别连接了两个ap，虽然处于同一个网络BubblePnP也不能发现播放设备，必须连接到同一个ap。启动BubblePnP，在RENDERER下会出现volumio的播放设备，可以用手机控制volumio，也可以通过DLNA播放手机上的音频，这真是我需要的功能。  
![](/images/2017-10-19-1-4.png)  
&emsp;&emsp;BubblePnP的菜单上也支持很多云存储的访问，应该可以直接从云存储上播放音乐，比如dropbox，OneDrive等。BubblePnP是一款收费app，免费版本有很多功能限制，网上有破解版的没试过是否可以使用。网上说鼎鼎大名的foobar2000播发器也可以通过插件支持DLNA，下次试试。总之有了DLNA我们播放音乐和视频的方式变得简单、有趣。  
![](/images/2017-10-19-1-5.png)  
&emsp;&emsp;后续：树莓派自身带的声音设备底噪很大无法入耳，上述工作只是一个验证，真正要到达实用的话需要购买一个树莓派配套的声卡并且建议使用数字接口接入DAC和功放。这是后话而我会不忘初心继续DIY一个实用的HiFi播放器。

&emsp;&emsp;本人的更多原创文章请加入个人微信公众号。  
![](/images/weixin.jpg)


